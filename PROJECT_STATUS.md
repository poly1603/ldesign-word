# Word Viewer Monorepo é¡¹ç›®çŠ¶æ€

## âœ… å½“å‰çŠ¶æ€ï¼šå¯ç”¨

**æœ€åæ›´æ–°**: 2024-01-20  
**ç‰ˆæœ¬**: 1.0.0  
**æ¶æ„**: Monorepo (npm workspaces)

---

## ğŸ“¦ åŒ…æ„å»ºçŠ¶æ€

### @word-viewer/core (æ ¸å¿ƒåŒ…)

**çŠ¶æ€**: âœ… æ„å»ºæˆåŠŸ  
**ä½ç½®**: `packages/core/`  
**è¾“å‡º**: `packages/core/dist/`

**æ„å»ºå‘½ä»¤**:
```bash
cd packages/core
npm run build
```

**æ„å»ºè¾“å‡º**:
- âœ… `dist/index.esm.js` - ES Module æ ¼å¼
- âœ… `dist/index.cjs.js` - CommonJS æ ¼å¼
- âœ… `dist/index.umd.js` - UMD æ ¼å¼ï¼ˆæµè§ˆå™¨ï¼‰
- âœ… `dist/index.d.ts` - TypeScript ç±»å‹å£°æ˜

**å·²ä¿®å¤çš„é—®é¢˜**:
- âœ… ç§»é™¤äº† `useMathMLPolyfill` é€‰é¡¹
- âœ… æ·»åŠ äº† `"type": "module"` åˆ° package.json

### @word-viewer/vue (Vue 3 ç»„ä»¶)

**çŠ¶æ€**: âš ï¸ éœ€è¦ä¾èµ–æ ¸å¿ƒåŒ…  
**ä½ç½®**: `packages/vue/`  
**è¾“å‡º**: `packages/vue/dist/`

**ä¾èµ–**: @word-viewer/core ^1.0.0

**æ„å»ºå‘½ä»¤**:
```bash
cd packages/vue
npm run build
```

**é…ç½®æ›´æ–°**:
- âœ… æ·»åŠ äº† postcss æ”¯æŒ
- âœ… æ›´æ–°äº† rollup é…ç½®
- âœ… æ”¹ç”¨ç‰ˆæœ¬å¼•ç”¨æ›¿ä»£ workspace åè®®

### @word-viewer/react (React ç»„ä»¶)

**çŠ¶æ€**: âš ï¸ éœ€è¦ä¾èµ–æ ¸å¿ƒåŒ…  
**ä½ç½®**: `packages/react/`  
**è¾“å‡º**: `packages/react/dist/`

**ä¾èµ–**: @word-viewer/core ^1.0.0

**æ„å»ºå‘½ä»¤**:
```bash
cd packages/react
npm run build
```

### @word-viewer/lit (Lit Web Component)

**çŠ¶æ€**: âš ï¸ éœ€è¦ä¾èµ–æ ¸å¿ƒåŒ…  
**ä½ç½®**: `packages/lit/`  
**è¾“å‡º**: `packages/lit/dist/`

**ä¾èµ–**: @word-viewer/core ^1.0.0

**æ„å»ºå‘½ä»¤**:
```bash
cd packages/lit
npm run build
```

---

## ğŸ§ª æµ‹è¯•å’Œç¤ºä¾‹

### ç®€å•æµ‹è¯•é¡µé¢

**æ–‡ä»¶**: `examples/simple-test.html`  
**çŠ¶æ€**: âœ… å¯ç”¨  
**æè¿°**: ç›´æ¥å¼•ç”¨æ ¸å¿ƒåŒ… ESM è¾“å‡ºçš„ç®€å•æµ‹è¯•é¡µé¢

**ä½¿ç”¨æ–¹æ³•**:
1. ç¡®ä¿æ ¸å¿ƒåŒ…å·²æ„å»º
2. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `examples/simple-test.html`
3. é€‰æ‹© .docx æ–‡ä»¶æµ‹è¯•

**åŠŸèƒ½æµ‹è¯•**:
- âœ… æ–‡æ¡£åŠ è½½
- âœ… ç¼©æ”¾æ§åˆ¶
- âœ… æ–‡æ¡£ä¿¡æ¯è·å–
- âœ… äº‹ä»¶ç³»ç»Ÿ

### Vanilla JavaScript ç¤ºä¾‹

**æ–‡ä»¶**: `examples/vanilla/index.html`  
**çŠ¶æ€**: âœ… å¯ç”¨  
**æè¿°**: å®Œæ•´çš„åŸç”Ÿ JavaScript ç¤ºä¾‹

### Vue ç¤ºä¾‹

**æ–‡ä»¶**: `examples/vue/App.vue`  
**çŠ¶æ€**: âš ï¸ éœ€è¦æ„å»ºç¯å¢ƒ  
**æè¿°**: Vue 3 ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

**æ³¨æ„**: éœ€è¦ Vue å¼€å‘ç¯å¢ƒæ”¯æŒ

### React ç¤ºä¾‹

**æ–‡ä»¶**: `examples/react/App.tsx`  
**çŠ¶æ€**: âš ï¸ éœ€è¦æ„å»ºç¯å¢ƒ  
**æè¿°**: React ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

**æ³¨æ„**: éœ€è¦ React å¼€å‘ç¯å¢ƒæ”¯æŒ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ„å»ºæ ¸å¿ƒåŒ…ï¼ˆå¿…éœ€ï¼‰

```bash
cd packages/core
npm install
npm run build
```

### 2. æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€:
```bash
examples/simple-test.html
```

### 3. æ„å»ºå…¶ä»–åŒ…ï¼ˆå¯é€‰ï¼‰

```bash
# Vue
cd packages/vue
npm install
npm run build

# React
cd packages/react
npm install
npm run build

# Lit
cd packages/lit
npm install
npm run build
```

---

## ğŸ“Š åŠŸèƒ½æ¸…å•

### æ ¸å¿ƒåŠŸèƒ½ (packages/core)

- âœ… æ–‡æ¡£åŠ è½½
  - âœ… File å¯¹è±¡
  - âœ… URL
  - âœ… ArrayBuffer
  - âœ… Blob
- âœ… æ–‡æ¡£æ¸²æŸ“
  - âœ… docx-preview å¼•æ“
  - âœ… mammoth å¤‡ç”¨å¼•æ“
  - âœ… è‡ªåŠ¨é™çº§
- âœ… æŸ¥çœ‹åŠŸèƒ½
  - âœ… ç¼©æ”¾æ§åˆ¶ (0.5x - 3.0x)
  - âœ… é¡µé¢å¯¼èˆª
  - âœ… æ–‡æœ¬æœç´¢
  - âœ… æœç´¢é«˜äº®
- âœ… ç¼–è¾‘åŠŸèƒ½
  - âœ… æ–‡æœ¬ç¼–è¾‘
  - âœ… æ ¼å¼åŒ–
  - âœ… æ’å…¥å›¾ç‰‡
  - âœ… æ’¤é”€/é‡åš
- âœ… å¯¼å‡ºåŠŸèƒ½
  - âœ… PDF å¯¼å‡º
  - âœ… HTML å¯¼å‡º
  - âœ… DOCX å¯¼å‡º
  - âœ… çº¯æ–‡æœ¬å¯¼å‡º
- âœ… ä¸»é¢˜ç³»ç»Ÿ
  - âœ… æµ…è‰²ä¸»é¢˜
  - âœ… æ·±è‰²ä¸»é¢˜
  - âœ… è‡ªåŠ¨ä¸»é¢˜
- âœ… äº‹ä»¶ç³»ç»Ÿ
  - âœ… loaded
  - âœ… error
  - âœ… progress
  - âœ… changed
  - âœ… zoom
  - âœ… page-change

### æ¡†æ¶å°è£…

- âœ… Vue 3 ç»„ä»¶
  - âœ… Composition API
  - âœ… å“åº”å¼å±æ€§
  - âœ… äº‹ä»¶ç»‘å®š
- âœ… React ç»„ä»¶
  - âœ… Hooks
  - âœ… TypeScript ç±»å‹
  - âœ… Ref æ”¯æŒ
- âœ… Lit Web Component
  - âœ… Custom Element
  - âœ… å±æ€§å’Œäº‹ä»¶
  - âœ… Shadow DOM

---

## âš ï¸ å·²çŸ¥é—®é¢˜

### 1. æ¡†æ¶åŒ…ä¾èµ–æ ¸å¿ƒåŒ…

**é—®é¢˜**: æ¡†æ¶åŒ…éœ€è¦æœ¬åœ°å¼•ç”¨æ ¸å¿ƒåŒ…  
**çŠ¶æ€**: è®¾è®¡å¦‚æ­¤  
**è§£å†³æ–¹æ¡ˆ**: 
- å¼€å‘æ—¶ï¼šç¡®ä¿æ ¸å¿ƒåŒ…å·²æ„å»º
- å‘å¸ƒæ—¶ï¼šå‘å¸ƒåˆ° npm åè‡ªåŠ¨è§£å†³

### 2. Workspace åè®®æ”¯æŒ

**é—®é¢˜**: `workspace:*` åè®®å¯èƒ½ä¸è¢«æ‰€æœ‰ npm ç‰ˆæœ¬æ”¯æŒ  
**çŠ¶æ€**: å·²ä¿®å¤  
**è§£å†³æ–¹æ¡ˆ**: æ”¹ç”¨ç‰ˆæœ¬å·å¼•ç”¨ `^1.0.0`

### 3. Vue åŒ…æ„å»ºé…ç½®

**é—®é¢˜**: Vue SFC æ ·å¼å¤„ç†  
**çŠ¶æ€**: å·²ä¿®å¤  
**è§£å†³æ–¹æ¡ˆ**: æ·»åŠ  postcss æ’ä»¶

---

## ğŸ¯ ä½¿ç”¨å»ºè®®

### å¼€å‘åœºæ™¯

**åªéœ€æ ¸å¿ƒåŠŸèƒ½**:
```bash
cd packages/core
npm run build
```
ç„¶ååœ¨ HTML ä¸­ç›´æ¥å¼•ç”¨:
```html
<script type="module">
  import { WordViewer } from './packages/core/dist/index.esm.js';
</script>
```

**å¼€å‘ Vue é¡¹ç›®**:
1. æ„å»ºæ ¸å¿ƒåŒ…
2. æ„å»º Vue åŒ…
3. åœ¨ Vue é¡¹ç›®ä¸­å¼•ç”¨

**å¼€å‘ React é¡¹ç›®**:
1. æ„å»ºæ ¸å¿ƒåŒ…
2. æ„å»º React åŒ…
3. åœ¨ React é¡¹ç›®ä¸­å¼•ç”¨

### ç”Ÿäº§åœºæ™¯

**å‘å¸ƒåˆ° npm**:
1. æ„å»ºæ‰€æœ‰åŒ…
2. åˆ†åˆ«å‘å¸ƒåˆ° npm
3. ç”¨æˆ·ç›´æ¥ä» npm å®‰è£…

---

## ğŸ“ æ–‡æ¡£çŠ¶æ€

- âœ… README.md - ä¸»æ–‡æ¡£
- âœ… API.md - API å®Œæ•´å‚è€ƒ
- âœ… MONOREPO_README.md - Monorepo æ¶æ„è¯´æ˜
- âœ… MIGRATION_GUIDE.md - è¿ç§»æŒ‡å—
- âœ… BUILD_AND_TEST.md - æ„å»ºå’Œæµ‹è¯•æŒ‡å—
- âœ… QUICKSTART.md - å¿«é€Ÿå¼€å§‹
- âœ… GET_STARTED.md - è¯¦ç»†æ•™ç¨‹
- âœ… CONTRIBUTING.md - è´¡çŒ®æŒ‡å—
- âœ… packages/core/README.md - æ ¸å¿ƒåŒ…æ–‡æ¡£
- âœ… packages/vue/README.md - Vue åŒ…æ–‡æ¡£
- âœ… packages/react/README.md - React åŒ…æ–‡æ¡£
- âœ… packages/lit/README.md - Lit åŒ…æ–‡æ¡£

---

## ğŸ” æµ‹è¯•æ­¥éª¤

### åŸºæœ¬åŠŸèƒ½æµ‹è¯•

1. **æ„å»ºæ ¸å¿ƒåŒ…**
   ```bash
   cd packages/core
   npm run build
   ```

2. **æ‰“å¼€æµ‹è¯•é¡µé¢**
   ```bash
   # åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
   examples/simple-test.html
   ```

3. **æµ‹è¯•åŠŸèƒ½**
   - [ ] é€‰æ‹© .docx æ–‡ä»¶
   - [ ] æ–‡æ¡£æˆåŠŸåŠ è½½
   - [ ] ç¼©æ”¾åŠŸèƒ½æ­£å¸¸
   - [ ] è·å–æ–‡æ¡£ä¿¡æ¯
   - [ ] æ— æµè§ˆå™¨é”™è¯¯

### é«˜çº§åŠŸèƒ½æµ‹è¯•

1. **ç¼–è¾‘åŠŸèƒ½**
   - [ ] å¯ç”¨ç¼–è¾‘æ¨¡å¼
   - [ ] æ’å…¥æ–‡æœ¬
   - [ ] åº”ç”¨æ ¼å¼
   - [ ] æ’å…¥å›¾ç‰‡

2. **å¯¼å‡ºåŠŸèƒ½**
   - [ ] å¯¼å‡ºä¸º PDF
   - [ ] å¯¼å‡ºä¸º HTML
   - [ ] å¯¼å‡ºä¸º DOCX

3. **äº‹ä»¶ç³»ç»Ÿ**
   - [ ] loaded äº‹ä»¶è§¦å‘
   - [ ] error äº‹ä»¶è§¦å‘
   - [ ] progress äº‹ä»¶è§¦å‘
   - [ ] changed äº‹ä»¶è§¦å‘

---

## ğŸ’¡ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ

- [ ] æ·»åŠ è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] åˆ›å»ºæ›´å¤šç¤ºä¾‹
- [ ] ä¼˜åŒ–æ€§èƒ½
- [ ] ä¿®å¤æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜

### ä¸­æœŸ

- [ ] å‘å¸ƒåˆ° npm
- [ ] åˆ›å»ºåœ¨çº¿æ¼”ç¤º
- [ ] æ·»åŠ  CI/CD
- [ ] å®Œå–„æ–‡æ¡£

### é•¿æœŸ

- [ ] æ·»åŠ æ›´å¤šç¼–è¾‘åŠŸèƒ½
- [ ] æ”¯æŒæ›´å¤šæ–‡ä»¶æ ¼å¼
- [ ] æ·»åŠ ååŒç¼–è¾‘
- [ ] åˆ›å»ºæ’ä»¶ç³»ç»Ÿ

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md)

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æ€»ç»“**: é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆå¹¶å¯ç”¨ã€‚æ¡†æ¶åŒ…éœ€è¦åœ¨æ ¸å¿ƒåŒ…æ„å»ºåä½¿ç”¨ã€‚å»ºè®®ä»ç®€å•æµ‹è¯•é¡µé¢å¼€å§‹æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½ã€‚


